<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>LinkTitles extension for MediaWiki: Maintenance Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LinkTitles extension for MediaWiki
   </div>
   <div id="projectbrief">Automatically add links to existing pages.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classMaintenance.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classMaintenance-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Maintenance Class Reference<div class="ingroups"><a class="el" href="group__Maintenance.html">Maintenance</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstract maintenance class for quickly writing and churning out maintenance scripts with minimal effort.  
 <a href="classMaintenance.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Maintenance:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classMaintenance.png" usemap="#Maintenance_map" alt=""/>
  <map id="Maintenance_map" name="Maintenance_map">
<area href="classFakeMaintenance.html" title="Fake maintenance wrapper, mostly used for the web installer/updater. " alt="FakeMaintenance" shape="rect" coords="0,56,166,80"/>
<area href="classLinkTitles_1_1Cli.html" title="Core class of the maintanance script. " alt="LinkTitles\Cli" shape="rect" coords="176,56,342,80"/>
<area href="classLoggedUpdateMaintenance.html" title="Class for scripts that perform database maintenance and want to log the update in updatelog so we can..." alt="LoggedUpdateMaintenance" shape="rect" coords="352,56,518,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0d1830e46ad435069802a0904808f108"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a0d1830e46ad435069802a0904808f108">__construct</a> ()</td></tr>
<tr class="memdesc:a0d1830e46ad435069802a0904808f108"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a0d1830e46ad435069802a0904808f108">More...</a><br /></td></tr>
<tr class="separator:a0d1830e46ad435069802a0904808f108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b6b8ec9eb086758ba58f4df45a64889"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a9b6b8ec9eb086758ba58f4df45a64889">execute</a> ()</td></tr>
<tr class="memdesc:a9b6b8ec9eb086758ba58f4df45a64889"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do the actual work.  <a href="#a9b6b8ec9eb086758ba58f4df45a64889">More...</a><br /></td></tr>
<tr class="separator:a9b6b8ec9eb086758ba58f4df45a64889"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10362154352aed5917caf03adc004736"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a10362154352aed5917caf03adc004736">getName</a> ()</td></tr>
<tr class="memdesc:a10362154352aed5917caf03adc004736"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the script's name.  <a href="#a10362154352aed5917caf03adc004736">More...</a><br /></td></tr>
<tr class="separator:a10362154352aed5917caf03adc004736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c8b38f584aea1e7e1fdd5ea364b86d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a0c8b38f584aea1e7e1fdd5ea364b86d0">isQuiet</a> ()</td></tr>
<tr class="separator:a0c8b38f584aea1e7e1fdd5ea364b86d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f884f2e68b49043b4f9aa07fe1c4fe5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a4f884f2e68b49043b4f9aa07fe1c4fe5">cleanupChanneled</a> ()</td></tr>
<tr class="memdesc:a4f884f2e68b49043b4f9aa07fe1c4fe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up channeled output.  <a href="#a4f884f2e68b49043b4f9aa07fe1c4fe5">More...</a><br /></td></tr>
<tr class="separator:a4f884f2e68b49043b4f9aa07fe1c4fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0905bf1b90d1586d339d90117747c8f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a0905bf1b90d1586d339d90117747c8f3">outputChanneled</a> ($msg, $channel=null)</td></tr>
<tr class="memdesc:a0905bf1b90d1586d339d90117747c8f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message outputter with channeled message support.  <a href="#a0905bf1b90d1586d339d90117747c8f3">More...</a><br /></td></tr>
<tr class="separator:a0905bf1b90d1586d339d90117747c8f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab946ae2c8246935f05c9d3698561f90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#aab946ae2c8246935f05c9d3698561f90">getDbType</a> ()</td></tr>
<tr class="memdesc:aab946ae2c8246935f05c9d3698561f90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the script need different DB access? By default, we give <a class="el" href="classMaintenance.html" title="Abstract maintenance class for quickly writing and churning out maintenance scripts with minimal effo...">Maintenance</a> scripts normal rights to the DB.  <a href="#aab946ae2c8246935f05c9d3698561f90">More...</a><br /></td></tr>
<tr class="separator:aab946ae2c8246935f05c9d3698561f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76ccab456798ad817d57fe1967dfee8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#af76ccab456798ad817d57fe1967dfee8">getConfig</a> ()</td></tr>
<tr class="separator:af76ccab456798ad817d57fe1967dfee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3873a89e4f107e4b9e0e0467a9650d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#af3873a89e4f107e4b9e0e0467a9650d7">setConfig</a> (Config $config)</td></tr>
<tr class="separator:af3873a89e4f107e4b9e0e0467a9650d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a9fd23b4d7902a67834d3886caf359"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a03a9fd23b4d7902a67834d3886caf359"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a03a9fd23b4d7902a67834d3886caf359">setup</a> ()</td></tr>
<tr class="memdesc:a03a9fd23b4d7902a67834d3886caf359"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do some sanity checking and basic setup. <br /></td></tr>
<tr class="separator:a03a9fd23b4d7902a67834d3886caf359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ffce2ef4cae3a5547543ea3c5cf9198"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a4ffce2ef4cae3a5547543ea3c5cf9198">memoryLimit</a> ()</td></tr>
<tr class="memdesc:a4ffce2ef4cae3a5547543ea3c5cf9198"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normally we disable the memory_limit when running admin scripts.  <a href="#a4ffce2ef4cae3a5547543ea3c5cf9198">More...</a><br /></td></tr>
<tr class="separator:a4ffce2ef4cae3a5547543ea3c5cf9198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34071eaad33c2e660377fcde4a4f37fb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34071eaad33c2e660377fcde4a4f37fb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a34071eaad33c2e660377fcde4a4f37fb">clearParamsAndArgs</a> ()</td></tr>
<tr class="memdesc:a34071eaad33c2e660377fcde4a4f37fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all params and arguments. <br /></td></tr>
<tr class="separator:a34071eaad33c2e660377fcde4a4f37fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b15cf594f52d84dd9768d277c9e8be5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a3b15cf594f52d84dd9768d277c9e8be5">loadParamsAndArgs</a> ($self=null, $opts=null, $args=null)</td></tr>
<tr class="memdesc:a3b15cf594f52d84dd9768d277c9e8be5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process command line arguments $mOptions becomes an array with keys set to the option names $mArgs becomes a zero-based array containing the non-option arguments.  <a href="#a3b15cf594f52d84dd9768d277c9e8be5">More...</a><br /></td></tr>
<tr class="separator:a3b15cf594f52d84dd9768d277c9e8be5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af374b078db05eb7400e6fb1de205a73e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#af374b078db05eb7400e6fb1de205a73e">globals</a> ()</td></tr>
<tr class="memdesc:af374b078db05eb7400e6fb1de205a73e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Potentially debug globals.  <a href="#af374b078db05eb7400e6fb1de205a73e">More...</a><br /></td></tr>
<tr class="separator:af374b078db05eb7400e6fb1de205a73e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a893b997ac685252332d1953e13302730"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a893b997ac685252332d1953e13302730">loadSettings</a> ()</td></tr>
<tr class="memdesc:a893b997ac685252332d1953e13302730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic setup for most installs.  <a href="#a893b997ac685252332d1953e13302730">More...</a><br /></td></tr>
<tr class="separator:a893b997ac685252332d1953e13302730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accb8c4b12dbcfbcfb24e2f871d6aa344"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#accb8c4b12dbcfbcfb24e2f871d6aa344">purgeRedundantText</a> ($delete=true)</td></tr>
<tr class="memdesc:accb8c4b12dbcfbcfb24e2f871d6aa344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Support function for cleaning up redundant text records.  <a href="#accb8c4b12dbcfbcfb24e2f871d6aa344">More...</a><br /></td></tr>
<tr class="separator:accb8c4b12dbcfbcfb24e2f871d6aa344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6997544b4058213f9f97b3f9cc3b18d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#ae6997544b4058213f9f97b3f9cc3b18d">setDB</a> ($db)</td></tr>
<tr class="memdesc:ae6997544b4058213f9f97b3f9cc3b18d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets database object to be returned by <a class="el" href="classMaintenance.html#a7302ad247476b9f1d58cd75cc941570f" title="Returns a database to be used by current maintenance script. ">getDB()</a>.  <a href="#ae6997544b4058213f9f97b3f9cc3b18d">More...</a><br /></td></tr>
<tr class="separator:ae6997544b4058213f9f97b3f9cc3b18d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4675235e8d59d18924137e7f45e25933"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a4675235e8d59d18924137e7f45e25933">updateSearchIndex</a> ($maxLockTime, $callback, $dbw, $results)</td></tr>
<tr class="memdesc:a4675235e8d59d18924137e7f45e25933"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a search index update with locking.  <a href="#a4675235e8d59d18924137e7f45e25933">More...</a><br /></td></tr>
<tr class="separator:a4675235e8d59d18924137e7f45e25933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a622adb4b084348ae584d796835ded7f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a622adb4b084348ae584d796835ded7f4">updateSearchIndexForPage</a> ($dbw, $pageId)</td></tr>
<tr class="memdesc:a622adb4b084348ae584d796835ded7f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the searchindex table for a given pageid.  <a href="#a622adb4b084348ae584d796835ded7f4">More...</a><br /></td></tr>
<tr class="separator:a622adb4b084348ae584d796835ded7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ada99e1815f8215436058a5229e52863d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#ada99e1815f8215436058a5229e52863d">shouldExecute</a> ()</td></tr>
<tr class="memdesc:ada99e1815f8215436058a5229e52863d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should we execute the maintenance script, or just allow it to be included as a standalone class? It checks that the call stack only includes this function and "requires" (meaning was called from the file scope)  <a href="#ada99e1815f8215436058a5229e52863d">More...</a><br /></td></tr>
<tr class="separator:ada99e1815f8215436058a5229e52863d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81180b71f62ae00ce0df86b37e4d56f9"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a81180b71f62ae00ce0df86b37e4d56f9">posix_isatty</a> ($fd)</td></tr>
<tr class="memdesc:a81180b71f62ae00ce0df86b37e4d56f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper for <a class="el" href="classMaintenance.html#a81180b71f62ae00ce0df86b37e4d56f9" title="Wrapper for posix_isatty() We default as considering stdin a tty (for nice readline methods) but trea...">posix_isatty()</a> We default as considering stdin a tty (for nice readline methods) but treating stout as not a tty to avoid color codes.  <a href="#a81180b71f62ae00ce0df86b37e4d56f9">More...</a><br /></td></tr>
<tr class="separator:a81180b71f62ae00ce0df86b37e4d56f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85adb9a4d98260173ba1e59e23d1eaed"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a85adb9a4d98260173ba1e59e23d1eaed">readconsole</a> ($prompt= '&gt; ')</td></tr>
<tr class="memdesc:a85adb9a4d98260173ba1e59e23d1eaed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompt the console for input.  <a href="#a85adb9a4d98260173ba1e59e23d1eaed">More...</a><br /></td></tr>
<tr class="separator:a85adb9a4d98260173ba1e59e23d1eaed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a3fffb62a80640aca9a18fb366b772554"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a3fffb62a80640aca9a18fb366b772554">DB_NONE</a> = 0</td></tr>
<tr class="memdesc:a3fffb62a80640aca9a18fb366b772554"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constants for DB access type.  <a href="#a3fffb62a80640aca9a18fb366b772554">More...</a><br /></td></tr>
<tr class="separator:a3fffb62a80640aca9a18fb366b772554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d952dab6fa0a09ed0fcbe91832c0043"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d952dab6fa0a09ed0fcbe91832c0043"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DB_STD</b> = 1</td></tr>
<tr class="separator:a4d952dab6fa0a09ed0fcbe91832c0043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a675855a8a118994f5aa9f899393e2cef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a675855a8a118994f5aa9f899393e2cef"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DB_ADMIN</b> = 2</td></tr>
<tr class="separator:a675855a8a118994f5aa9f899393e2cef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f389df5325759933e8560ac93020481"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f389df5325759933e8560ac93020481"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>STDIN_ALL</b> = 'all'</td></tr>
<tr class="separator:a0f389df5325759933e8560ac93020481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c0514e4fcc5301abe3eed9bba1e7ae7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c0514e4fcc5301abe3eed9bba1e7ae7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$mDbPass</b></td></tr>
<tr class="separator:a8c0514e4fcc5301abe3eed9bba1e7ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e4922aec77278fb6dd9aa41964619b3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9e4922aec77278fb6dd9aa41964619b3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$fileHandle</b></td></tr>
<tr class="separator:a9e4922aec77278fb6dd9aa41964619b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aa2758a0f6d8de63ef7df001a82b1c5d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#aa2758a0f6d8de63ef7df001a82b1c5d6">addOption</a> ($name, $description, $required=false, $withArg=false, $shortName=false)</td></tr>
<tr class="memdesc:aa2758a0f6d8de63ef7df001a82b1c5d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a parameter to the script.  <a href="#aa2758a0f6d8de63ef7df001a82b1c5d6">More...</a><br /></td></tr>
<tr class="separator:aa2758a0f6d8de63ef7df001a82b1c5d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8cdb92c05971efc50e25d4887a539e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#ad8cdb92c05971efc50e25d4887a539e5">hasOption</a> ($name)</td></tr>
<tr class="memdesc:ad8cdb92c05971efc50e25d4887a539e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks to see if a particular param exists.  <a href="#ad8cdb92c05971efc50e25d4887a539e5">More...</a><br /></td></tr>
<tr class="separator:ad8cdb92c05971efc50e25d4887a539e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b5228c1775b9c99e465705cab255afb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a3b5228c1775b9c99e465705cab255afb">getOption</a> ($name, $default=null)</td></tr>
<tr class="memdesc:a3b5228c1775b9c99e465705cab255afb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an option, or return the default.  <a href="#a3b5228c1775b9c99e465705cab255afb">More...</a><br /></td></tr>
<tr class="separator:a3b5228c1775b9c99e465705cab255afb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de19f30bf62712c1847b6a036859bc9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a0de19f30bf62712c1847b6a036859bc9">addArg</a> ($arg, $description, $required=true)</td></tr>
<tr class="memdesc:a0de19f30bf62712c1847b6a036859bc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add some args that are needed.  <a href="#a0de19f30bf62712c1847b6a036859bc9">More...</a><br /></td></tr>
<tr class="separator:a0de19f30bf62712c1847b6a036859bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa70cbdf1fb77db68df843107eea08deb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#aa70cbdf1fb77db68df843107eea08deb">deleteOption</a> ($name)</td></tr>
<tr class="memdesc:aa70cbdf1fb77db68df843107eea08deb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an option.  <a href="#aa70cbdf1fb77db68df843107eea08deb">More...</a><br /></td></tr>
<tr class="separator:aa70cbdf1fb77db68df843107eea08deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18e534fdc6ac3cb495f7a88f49273e51"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a18e534fdc6ac3cb495f7a88f49273e51">addDescription</a> ($text)</td></tr>
<tr class="memdesc:a18e534fdc6ac3cb495f7a88f49273e51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the description text.  <a href="#a18e534fdc6ac3cb495f7a88f49273e51">More...</a><br /></td></tr>
<tr class="separator:a18e534fdc6ac3cb495f7a88f49273e51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07801d21bf613c106684fdc500268e2d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a07801d21bf613c106684fdc500268e2d">hasArg</a> ($argId=0)</td></tr>
<tr class="memdesc:a07801d21bf613c106684fdc500268e2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does a given argument exist?  <a href="#a07801d21bf613c106684fdc500268e2d">More...</a><br /></td></tr>
<tr class="separator:a07801d21bf613c106684fdc500268e2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd06571438830262f8aafe907f142ffd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#afd06571438830262f8aafe907f142ffd">getArg</a> ($argId=0, $default=null)</td></tr>
<tr class="memdesc:afd06571438830262f8aafe907f142ffd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an argument.  <a href="#afd06571438830262f8aafe907f142ffd">More...</a><br /></td></tr>
<tr class="separator:afd06571438830262f8aafe907f142ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a336f3432c822827d6b96fb4d9b5add2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a336f3432c822827d6b96fb4d9b5add2a">setBatchSize</a> ($s=0)</td></tr>
<tr class="memdesc:a336f3432c822827d6b96fb4d9b5add2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the batch size.  <a href="#a336f3432c822827d6b96fb4d9b5add2a">More...</a><br /></td></tr>
<tr class="separator:a336f3432c822827d6b96fb4d9b5add2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d19507fd909f4444831978eb024929d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a1d19507fd909f4444831978eb024929d">getStdin</a> ($len=null)</td></tr>
<tr class="memdesc:a1d19507fd909f4444831978eb024929d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return input from stdin.  <a href="#a1d19507fd909f4444831978eb024929d">More...</a><br /></td></tr>
<tr class="separator:a1d19507fd909f4444831978eb024929d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a608c1e6146fdb94ca93e7a486c4ecd7a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a608c1e6146fdb94ca93e7a486c4ecd7a">output</a> ($out, $channel=null)</td></tr>
<tr class="memdesc:a608c1e6146fdb94ca93e7a486c4ecd7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Throw some output to the user.  <a href="#a608c1e6146fdb94ca93e7a486c4ecd7a">More...</a><br /></td></tr>
<tr class="separator:a608c1e6146fdb94ca93e7a486c4ecd7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed3a35d2508552d812f821d438cce954"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#aed3a35d2508552d812f821d438cce954">error</a> ($err, $die=0)</td></tr>
<tr class="memdesc:aed3a35d2508552d812f821d438cce954"><td class="mdescLeft">&#160;</td><td class="mdescRight">Throw an error to the user.  <a href="#aed3a35d2508552d812f821d438cce954">More...</a><br /></td></tr>
<tr class="separator:aed3a35d2508552d812f821d438cce954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b1c60283e778454b42f61b8a08a6a7a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6b1c60283e778454b42f61b8a08a6a7a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a6b1c60283e778454b42f61b8a08a6a7a">addDefaultParams</a> ()</td></tr>
<tr class="memdesc:a6b1c60283e778454b42f61b8a08a6a7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the default parameters to the scripts. <br /></td></tr>
<tr class="separator:a6b1c60283e778454b42f61b8a08a6a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e40dfd3a95a97c7023f8333a79e305"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4e40dfd3a95a97c7023f8333a79e305"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#aa4e40dfd3a95a97c7023f8333a79e305">adjustMemoryLimit</a> ()</td></tr>
<tr class="memdesc:aa4e40dfd3a95a97c7023f8333a79e305"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjusts PHP's memory limit to better suit our needs, if needed. <br /></td></tr>
<tr class="separator:aa4e40dfd3a95a97c7023f8333a79e305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ababea4e32b29b5ad7c5d3737d92cddd9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ababea4e32b29b5ad7c5d3737d92cddd9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#ababea4e32b29b5ad7c5d3737d92cddd9">activateProfiler</a> ()</td></tr>
<tr class="memdesc:ababea4e32b29b5ad7c5d3737d92cddd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate the profiler (assuming $wgProfiler is set) <br /></td></tr>
<tr class="separator:ababea4e32b29b5ad7c5d3737d92cddd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa596324503779645e2ffe1d860e490a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa596324503779645e2ffe1d860e490a5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#aa596324503779645e2ffe1d860e490a5">validateParamsAndArgs</a> ()</td></tr>
<tr class="memdesc:aa596324503779645e2ffe1d860e490a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run some validation checks on the params, etc. <br /></td></tr>
<tr class="separator:aa596324503779645e2ffe1d860e490a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f18e679a0ff7b3b3f367447f5023a91"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f18e679a0ff7b3b3f367447f5023a91"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a7f18e679a0ff7b3b3f367447f5023a91">loadSpecialVars</a> ()</td></tr>
<tr class="memdesc:a7f18e679a0ff7b3b3f367447f5023a91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle the special variables that are global to all scripts. <br /></td></tr>
<tr class="separator:a7f18e679a0ff7b3b3f367447f5023a91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53bdfd2fdb841602b51906fe40816057"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a53bdfd2fdb841602b51906fe40816057">maybeHelp</a> ($force=false)</td></tr>
<tr class="memdesc:a53bdfd2fdb841602b51906fe40816057"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maybe show the help.  <a href="#a53bdfd2fdb841602b51906fe40816057">More...</a><br /></td></tr>
<tr class="separator:a53bdfd2fdb841602b51906fe40816057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f63d923f08c0f7c830c2e1726f4cc8d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5f63d923f08c0f7c830c2e1726f4cc8d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a5f63d923f08c0f7c830c2e1726f4cc8d">afterFinalSetup</a> ()</td></tr>
<tr class="memdesc:a5f63d923f08c0f7c830c2e1726f4cc8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a callback function at the end of initialisation. <br /></td></tr>
<tr class="separator:a5f63d923f08c0f7c830c2e1726f4cc8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69efbd3f455e247274e9b6447479d4bb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a69efbd3f455e247274e9b6447479d4bb">getDir</a> ()</td></tr>
<tr class="memdesc:a69efbd3f455e247274e9b6447479d4bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maintenance directory.  <a href="#a69efbd3f455e247274e9b6447479d4bb">More...</a><br /></td></tr>
<tr class="separator:a69efbd3f455e247274e9b6447479d4bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7302ad247476b9f1d58cd75cc941570f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaintenance.html#a7302ad247476b9f1d58cd75cc941570f">getDB</a> ($db, $groups=array(), $wiki=false)</td></tr>
<tr class="memdesc:a7302ad247476b9f1d58cd75cc941570f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a database to be used by current maintenance script.  <a href="#a7302ad247476b9f1d58cd75cc941570f">More...</a><br /></td></tr>
<tr class="separator:a7302ad247476b9f1d58cd75cc941570f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9dbd9c3471dee2ee0e8fe5353713f92d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9dbd9c3471dee2ee0e8fe5353713f92d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$mParams</b> = array()</td></tr>
<tr class="separator:a9dbd9c3471dee2ee0e8fe5353713f92d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a251d9eb41c05cb2e8a1418ef4e3a60e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a251d9eb41c05cb2e8a1418ef4e3a60e3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$mShortParamsMap</b> = array()</td></tr>
<tr class="separator:a251d9eb41c05cb2e8a1418ef4e3a60e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d1d8cf4560b51b7e0e4aa1c33bf4ca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af9d1d8cf4560b51b7e0e4aa1c33bf4ca"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$mArgList</b> = array()</td></tr>
<tr class="separator:af9d1d8cf4560b51b7e0e4aa1c33bf4ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dc1b4bcd435751bea7f0c7c95ef8a2c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4dc1b4bcd435751bea7f0c7c95ef8a2c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$mOptions</b> = array()</td></tr>
<tr class="separator:a4dc1b4bcd435751bea7f0c7c95ef8a2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a285c690d34fa5038b8d42ce23ff1b487"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a285c690d34fa5038b8d42ce23ff1b487"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$mArgs</b> = array()</td></tr>
<tr class="separator:a285c690d34fa5038b8d42ce23ff1b487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a10a0dd8e4bdd6068d6d679cbbeb9c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a77a10a0dd8e4bdd6068d6d679cbbeb9c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$mSelf</b></td></tr>
<tr class="separator:a77a10a0dd8e4bdd6068d6d679cbbeb9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20782b12258f4eec05e7325e0a28e028"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20782b12258f4eec05e7325e0a28e028"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$mQuiet</b> = false</td></tr>
<tr class="separator:a20782b12258f4eec05e7325e0a28e028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74bd5e6107657d184b3104f0f3a84e14"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a74bd5e6107657d184b3104f0f3a84e14"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$mDbUser</b></td></tr>
<tr class="separator:a74bd5e6107657d184b3104f0f3a84e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17d3803c9426a83dd5b6b54ac7886b59"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17d3803c9426a83dd5b6b54ac7886b59"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$mDescription</b> = ''</td></tr>
<tr class="separator:a17d3803c9426a83dd5b6b54ac7886b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11f0b8a3a00856846dcddfa1bc4bb7ec"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11f0b8a3a00856846dcddfa1bc4bb7ec"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$mInputLoaded</b> = false</td></tr>
<tr class="separator:a11f0b8a3a00856846dcddfa1bc4bb7ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af027673efa5d5826b9381d6236370fa3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af027673efa5d5826b9381d6236370fa3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$mBatchSize</b> = null</td></tr>
<tr class="separator:af027673efa5d5826b9381d6236370fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Abstract maintenance class for quickly writing and churning out maintenance scripts with minimal effort. </p>
<p>All that <em>must</em> be defined is the <a class="el" href="classMaintenance.html#a9b6b8ec9eb086758ba58f4df45a64889" title="Do the actual work. ">execute()</a> method. See docs/maintenance.txt for more info and a quick demo of how to use it.</p>
<dl class="section author"><dt>Author</dt><dd>Chad Horohoe <a href="#" onclick="location.href='mai'+'lto:'+'cha'+'d@'+'any'+'on'+'eca'+'ne'+'dit'+'.o'+'rg'; return false;">chad@<span style="display: none;">.nosp@m.</span>anyo<span style="display: none;">.nosp@m.</span>necan<span style="display: none;">.nosp@m.</span>edit<span style="display: none;">.nosp@m.</span>.org</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.16 </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00051">51</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0d1830e46ad435069802a0904808f108"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::__construct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>
<p>Children should call this <em>first</em> if implementing their own constructors </p>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00127">127</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0de19f30bf62712c1847b6a036859bc9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::addArg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$description</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$required</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add some args that are needed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$arg</td><td>Name of the arg, like 'start' </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$description</td><td>Short description of the arg </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$required</td><td>Is this required? </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00233">233</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a18e534fdc6ac3cb495f7a88f49273e51"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::addDescription </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the description text. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>The text of the description </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00253">253</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="aa2758a0f6d8de63ef7df001a82b1c5d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::addOption </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$description</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$required</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$withArg</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$shortName</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a parameter to the script. </p>
<p>Will be displayed on &ndash;help with the associated description</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The name of the param (help, version, etc) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$description</td><td>The description of the param to show on &ndash;help </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$required</td><td>Is the param required? </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$withArg</td><td>Is an argument required with this option? </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$shortName</td><td>Character to use as short name </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00186">186</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4f884f2e68b49043b4f9aa07fe1c4fe5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::cleanupChanneled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean up channeled output. </p>
<p>Output a newline if necessary. </p>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00377">377</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="aa70cbdf1fb77db68df843107eea08deb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::deleteOption </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove an option. </p>
<p>Useful for removing options that won't be used in your script. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The option to remove. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00245">245</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="aed3a35d2508552d812f821d438cce954"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$die</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Throw an error to the user. </p>
<p>Doesn't respect &ndash;quiet, so don't use this for non-error output </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$err</td><td>The error to display </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$die</td><td>If &gt; 0, go ahead and die out using this int as the code </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00358">358</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9b6b8ec9eb086758ba58f4df45a64889"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::execute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do the actual work. </p>
<p>All child classes will need to implement this </p>

</div>
</div>
<a class="anchor" id="afd06571438830262f8aafe907f142ffd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::getArg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$argId</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$default</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get an argument. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$argId</td><td>The integer value (from zero) for the arg </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$default</td><td>The default if it doesn't exist </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00272">272</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="af76ccab456798ad817d57fe1967dfee8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::getConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section since"><dt>Since</dt><dd>1.24 </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Config </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00471">471</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a7302ad247476b9f1d58cd75cc941570f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::getDB </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$groups</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$wiki</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a database to be used by current maintenance script. </p>
<p>It can be set by <a class="el" href="classMaintenance.html#ae6997544b4058213f9f97b3f9cc3b18d" title="Sets database object to be returned by getDB(). ">setDB()</a>. If not set, wfGetDB() will be used. This function has the same parameters as wfGetDB()</p>
<dl class="section return"><dt>Returns</dt><dd>DatabaseBase </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l01088">1088</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="aab946ae2c8246935f05c9d3698561f90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::getDbType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does the script need different DB access? By default, we give <a class="el" href="classMaintenance.html" title="Abstract maintenance class for quickly writing and churning out maintenance scripts with minimal effo...">Maintenance</a> scripts normal rights to the DB. </p>
<p>Sometimes, a script needs admin rights access for a reason and sometimes they want no access. Subclasses should override and return one of the following values, as needed: <a class="el" href="classMaintenance.html#a3fffb62a80640aca9a18fb366b772554" title="Constants for DB access type. ">Maintenance::DB_NONE</a> - For no DB access at all Maintenance::DB_STD - For normal DB access, default Maintenance::DB_ADMIN - For admin DB access </p><dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00425">425</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a69efbd3f455e247274e9b6447479d4bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::getDir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the maintenance directory. </p>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l01077">1077</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a10362154352aed5917caf03adc004736"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the script's name. </p>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00302">302</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3b5228c1775b9c99e465705cab255afb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::getOption </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$default</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get an option, or return the default. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The name of the param </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$default</td><td>Anything you want, default null </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00216">216</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1d19507fd909f4444831978eb024929d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::getStdin </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$len</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return input from stdin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$len</td><td>The number of bytes to read. If null, just return the handle. Maintenance::STDIN_ALL returns the full length </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00312">312</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="af374b078db05eb7400e6fb1de205a73e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::globals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Potentially debug globals. </p>
<p>Originally a feature only for refreshLinks </p>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00980">980</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a07801d21bf613c106684fdc500268e2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::hasArg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$argId</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does a given argument exist? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$argId</td><td>The integer value (from zero) for the arg </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00262">262</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad8cdb92c05971efc50e25d4887a539e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::hasOption </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks to see if a particular param exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The name of the param </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00206">206</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0c8b38f584aea1e7e1fdd5ea364b86d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::isQuiet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00329">329</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3b15cf594f52d84dd9768d277c9e8be5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::loadParamsAndArgs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$self</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$opts</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$args</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process command line arguments $mOptions becomes an array with keys set to the option names $mArgs becomes a zero-based array containing the non-option arguments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$self</td><td>The name of the script, if any </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$opts</td><td>An array of options, in form of key=&gt;value </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$args</td><td>An array of command line arguments </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00645">645</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a893b997ac685252332d1953e13302730"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::loadSettings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic setup for most installs. </p>
<p>Returns the location of LocalSettings </p><dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00990">990</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a53bdfd2fdb841602b51906fe40816057"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::maybeHelp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$force</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maybe show the help. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$force</td><td>Whether to force the help to show, default false </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00793">793</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4ffce2ef4cae3a5547543ea3c5cf9198"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::memoryLimit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Normally we disable the memory_limit when running admin scripts. </p>
<p>Some scripts may wish to actually set a limit, however, to avoid blowing up unexpectedly. We also support a &ndash;memory-limit option, to allow sysadmins to explicitly set one if they'd prefer to override defaults (or for people using Suhosin which yells at you for trying to disable the limits) </p><dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00581">581</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a608c1e6146fdb94ca93e7a486c4ecd7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::output </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$channel</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Throw some output to the user. </p>
<p>Scripts can call this with no fears, as we handle all &ndash;quiet stuff here </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$out</td><td>The text to show to the user </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$channel</td><td>Unique identifier for the channel. See function outputChanneled. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00339">339</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0905bf1b90d1586d339d90117747c8f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::outputChanneled </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$channel</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message outputter with channeled message support. </p>
<p>Messages on the same channel are concatenated, but any intervening messages in another channel start a new line. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$msg</td><td>The message without trailing newline </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$channel</td><td>Channel identifier or null for no channel. Channel comparison uses ===. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00392">392</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a81180b71f62ae00ce0df86b37e4d56f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Maintenance::posix_isatty </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wrapper for <a class="el" href="classMaintenance.html#a81180b71f62ae00ce0df86b37e4d56f9" title="Wrapper for posix_isatty() We default as considering stdin a tty (for nice readline methods) but trea...">posix_isatty()</a> We default as considering stdin a tty (for nice readline methods) but treating stout as not a tty to avoid color codes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$fd</td><td>File descriptor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l01202">1202</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="accb8c4b12dbcfbcfb24e2f871d6aa344"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::purgeRedundantText </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$delete</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Support function for cleaning up redundant text records. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$delete</td><td>Whether or not to actually delete the records </td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Rob Church <a href="#" onclick="location.href='mai'+'lto:'+'rob'+'ch'+'ur@'+'gm'+'ail'+'.c'+'om'; return false;">robch<span style="display: none;">.nosp@m.</span>ur@g<span style="display: none;">.nosp@m.</span>mail.<span style="display: none;">.nosp@m.</span>com</a> </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l01024">1024</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a85adb9a4d98260173ba1e59e23d1eaed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Maintenance::readconsole </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$prompt</em> = <code>'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">'&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prompt the console for input. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$prompt</td><td>What to begin the line with, like '&gt; ' </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Response </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l01215">1215</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a336f3432c822827d6b96fb4d9b5add2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::setBatchSize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$s</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the batch size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$s</td><td>The number of operations to do in a batch </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00280">280</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="af3873a89e4f107e4b9e0e0467a9650d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::setConfig </td>
          <td>(</td>
          <td class="paramtype">Config&#160;</td>
          <td class="paramname"><em>$config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section since"><dt>Since</dt><dd>1.24 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">Config</td><td class="paramname">$config</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00483">483</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae6997544b4058213f9f97b3f9cc3b18d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::setDB </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets database object to be returned by <a class="el" href="classMaintenance.html#a7302ad247476b9f1d58cd75cc941570f" title="Returns a database to be used by current maintenance script. ">getDB()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">DatabaseBase</td><td class="paramname">$db</td><td>Database object to be used </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l01101">1101</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="ada99e1815f8215436058a5229e52863d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Maintenance::shouldExecute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Should we execute the maintenance script, or just allow it to be included as a standalone class? It checks that the call stack only includes this function and "requires" (meaning was called from the file scope) </p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00145">145</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4675235e8d59d18924137e7f45e25933"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::updateSearchIndex </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$maxLockTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dbw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a search index update with locking. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$maxLockTime</td><td>The maximum time to keep the search index locked. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$callback</td><td>The function that will update the function. </td></tr>
    <tr><td class="paramtype">DatabaseBase</td><td class="paramname">$dbw</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$results</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l01140">1140</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<a class="anchor" id="a622adb4b084348ae584d796835ded7f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Maintenance::updateSearchIndexForPage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dbw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$pageId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the searchindex table for a given pageid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">DatabaseBase</td><td class="paramname">$dbw</td><td>A database write handle </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$pageId</td><td>The page ID to update. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>null|string </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l01177">1177</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a3fffb62a80640aca9a18fb366b772554"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const Maintenance::DB_NONE = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constants for DB access type. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classMaintenance.html#aab946ae2c8246935f05c9d3698561f90" title="Does the script need different DB access? By default, we give Maintenance scripts normal rights to th...">Maintenance::getDbType()</a> </dd></dl>

<p>Definition at line <a class="el" href="Maintenance_8php_source.html#l00056">56</a> of file <a class="el" href="Maintenance_8php_source.html">Maintenance.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Maintenance_8php_source.html">Maintenance.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classMaintenance.html">Maintenance</a></li>
    <li class="footer">Generated on Mon Jun 6 2016 23:40:38 for LinkTitles extension for MediaWiki by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
